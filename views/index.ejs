<!DOCTYPE html>
<html lang="ko">

<head>
    <title>Dahee Memo</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 부트스트랩 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />

    <!-- j쿼리 -->
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

    <!-- 구글폰트 -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Serif+KR&family=Stylish&display=swap"
        rel="stylesheet" />

    <!-- font-family: 'Black Han Sans', sans-serif; -->
    <!-- font-family: 'Noto Serif KR', serif; -->
    <!-- font-family: 'Stylish', sans-serif; -->

    <style>
        /* Change this breakpoint if you change the breakpoint of the navbar */

        @media (min-width: 992 ㅂpx) {
            .animate {
                animation-duration: 0.3s;
                -webkit-animation-duration: 0.3s;
                animation-fill-mode: both;
                -webkit-animation-fill-mode: both;
            }
        }

        @keyframes slideIn {
            0% {
                transform: translateY(1rem);
                opacity: 0;
            }

            100% {
                transform: translateY(0rem);
                opacity: 1;
            }

            0% {
                transform: translateY(1rem);
                opacity: 0;
            }
        }

        @-webkit-keyframes slideIn {
            0% {
                -webkit-transform: transform;
                -webkit-opacity: 0;
            }

            100% {
                -webkit-transform: translateY(0);
                -webkit-opacity: 1;
            }

            0% {
                -webkit-transform: translateY(1rem);
                -webkit-opacity: 0;
            }
        }

        .slideIn {
            -webkit-animation-name: slideIn;
            animation-name: slideIn;
        }

        /* Other styles for the page not related to the animated dropdown */

        body {
            background: #e1bee7;
            background: linear-gradient(to right, #af8eb5, #fff1ff);
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#" style="font-family: 'Black Han Sans', sans-serif; font-size:35px;">다희
                메모장</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto" style=" font-family: 'Stylish', sans-serif; font-size:25px;">
                    <li class="nav-item dropdown">
                        빠르고 정확한 백엔드 <span style="color:hotpink">임. 다. 희</span>
                        </a>
                        <!-- Here's the magic. Add the .animate and .slide-in classes to your .dropdown-menu and you're all set! -->
                        <div class="dropdown-menu dropdown-menu-right animate slideIn" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div id='warp'>
        <div class="opop">
            <button onclick="openClose()"
                style="color:white; border:none; outline:none; background:none; font-size:50px; margin:auto; height:50px; width:200px; display:block; font-family: 'Black Han Sans', sans-serif;">
                글쓰기
            </button>
        </div>
        </p>
    </div>
    <div id="post-box" class="form-post"
        style="display:none; width:400px; margin:auto; font-family: 'Black Han Sans', sans-serif; color:white;">
        <div class="form-group">
            <label for="post-url" style="font-size:20px; font-family: 'Noto Serif KR', serif;">작성자</label>
            <input id="name" class="form-control" placeholder="">
        </div>
        <div class="form-group">
            <label for="post-url" style="font-size:20px; font-family: 'Noto Serif KR', serif;">제목</label>
            <input id="title" class="form-control" placeholder="">
        </div>
        <div class="form-group">
            <label for="post-comment" style="font-size:20px; font-family: 'Noto Serif KR', serif;">내용</label>
            <textarea id="content" class="form-control" rows="2"></textarea>
        </div>
        <button type="button" class="btn btn-primary" onclick="postArticle()"
            style="border:none; outline:none; background:none; font-size:35px; font-family: 'Noto Serif KR', serif; color:white;">Save</button>
    </div>

    <div id='board_list'>

    </div>
    </div>
    </div>

    <script>

        $(document).ready(function () {
            get_show()
        });

        // 박스 열닫
        function openClose() {
            if ($("#post-box").css("display") == "block") {
                $("#post-box").hide();
                $("#btn-post-box").text("포스팅 박스 열기");
            } else {
                $("#post-box").show();
                $("#btn-post-box").text("포스팅 박스 닫기");
            }
        }

        // 게시글 저장
        function postArticle() {
            let title = $('#title').val()
            let name = $('#name').val()
            let content = $('#content').val()
            console.log(title, name, content)
            $.ajax({
                type: "POST",
                url: "http://54.180.90.151/api/memo",
                data: {
                    title: title,
                    content: content,
                    name: name,
                },
                success: function (response) {
                }
            });
        }


        // 게시글 보기
        function get_show() {
            $.ajax({
                type: "GET",
                url: "http://54.180.90.151/api/memo",
                data: {},
                success: function (response) {

                    let name = response['name']
                    let title = response['title']
                    let content = response['content']
                    let tempHtml = `<div class="card border-light mb-3" style="max-width: 18rem; margin:auto; margin-top:30px; ">
        <div class="card-header">${name}</div>
        <div class="card-body">
        <h5 class="card-title">${title}</h5>
        <p class="card-text">${content}</p>
        </div>`
                    $('#board_list').append(tempHtml)
                }
            });
        }


    </script>

</body>

</html>